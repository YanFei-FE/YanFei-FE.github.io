<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>HTML5 | </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="H5并不是新的语言，而是html语言的第五次重大修改版本  支持：  所有主流浏览器都支持H5，（chrome，Firefox，safari ……）。 IE9以上支持H5，有选择地支持并不会全部支持（IE9会把H5新增标签的块级元素解析位行级元素） IE8以下不支持H5，无法解析H5标签，也就意味着所写样式无效，这时可以用js创建这些元素，但是创建出来的元素都是行级元素。也可以引入第三方js来支">
<meta property="og:type" content="article">
<meta property="og:title" content="HTML5">
<meta property="og:url" content="https://yanfei.me/HTML5/index.html">
<meta property="og:site_name">
<meta property="og:description" content="H5并不是新的语言，而是html语言的第五次重大修改版本  支持：  所有主流浏览器都支持H5，（chrome，Firefox，safari ……）。 IE9以上支持H5，有选择地支持并不会全部支持（IE9会把H5新增标签的块级元素解析位行级元素） IE8以下不支持H5，无法解析H5标签，也就意味着所写样式无效，这时可以用js创建这些元素，但是创建出来的元素都是行级元素。也可以引入第三方js来支">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-08-24T07:40:55.000Z">
<meta property="article:modified_time" content="2021-08-28T05:44:25.317Z">
<meta property="article:author" content="Yan Fei">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="HTML5">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo"></a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">时间轴</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://yanfei.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-HTML5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/HTML5/" class="article-date">
  <time datetime="2021-08-24T07:40:55.000Z" itemprop="datePublished">2021-08-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      HTML5
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p>H5并不是新的语言，而是html语言的第五次重大修改版本</p>
</li>
<li><p>支持：</p>
<ol>
<li>所有主流浏览器都支持H5，（chrome，Firefox，safari ……）。</li>
<li>IE9以上支持H5，有选择地支持并不会全部支持（IE9会把H5新增标签的块级元素解析位行级元素）</li>
<li>IE8以下不支持H5，无法解析H5标签，也就意味着所写样式无效，这时可以用js创建这些元素，但是创建出来的元素都是行级元素。也可以引入第三方js来支持H5（html5shiv）。</li>
</ol>
</li>
<li><p>改变了用户与文档的交互方式，多媒体：video audio canvas</p>
</li>
<li><p>相对于H4</p>
<ol>
<li>进步，抛弃了一些不合理不常用的标记和属性</li>
<li>新增了一些标记和属性，比如表单</li>
<li>从代码角度而言，H5的网页结构代码更简洁</li>
</ol>
</li>
<li><p>表单中新增属性</p>
<ol>
<li><code>autofocus</code> 自动获取光标</li>
<li><code>autocomplete=&quot;on&quot;</code> 自动完成 on：打开， off：关闭，前提是提交过而且有name属性才会生效</li>
<li><code>type=&quot;tel&quot;</code> 并不会对内容进行手机号让验证，只是可以在移动端调起数字键盘</li>
<li><code>required</code> 必须输入，如果没有输入则会阻止当前数据提交</li>
<li><code>pattern=&quot;&quot;</code> 正则表达式的验证</li>
<li><code>multiple</code> 可以选择多个文件；可以输入多个邮箱地址，用<code>,</code>分隔</li>
</ol>
</li>
<li><p>表单新增事件</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//oninput 监听当前指定元素的改变，只要内容改变就会触发事件</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;&#x27;</span>).oninput = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//oninvalid 当验证不通过时触发事件</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;&#x27;</span>).oninvalid = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//设置默认提示内容</span></span><br><span class="line">    <span class="built_in">this</span>.setCustomValidity();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>&lt;progress&gt;</code> 进度条</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- max: 最大值, value: 当前进度值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">progress</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">progress</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">value</span>=<span class="string">&quot;60&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>&lt;meter&gt;</code> 度量器：衡量当前进度之</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- high: 规定较高值, low: 规定较低值， max：最大值，min：最小值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meter</span>&gt;</span><span class="tag">&lt;/<span class="name">meter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meter</span> <span class="attr">max</span>=<span class="string">&quot;100&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">high</span>=<span class="string">&quot;80&quot;</span> <span class="attr">low</span>=<span class="string">&quot;50&quot;</span> <span class="attr">value</span>=<span class="string">&quot;40&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">progress</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>&lt;audio&gt;</code> 音频</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">    controls: 控制面板</span></span><br><span class="line"><span class="comment">    autoplay：自动播放(新版本浏览器已禁止自动播放); </span></span><br><span class="line"><span class="comment">    loop：循环</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">controls</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p><code>&lt;video&gt;</code> 视频</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    controls: 控制面板</span></span><br><span class="line"><span class="comment">    autoplay：自动播放(新版本浏览器已禁止自动播放); </span></span><br><span class="line"><span class="comment">    loop：循环；</span></span><br><span class="line"><span class="comment">    width：宽度；</span></span><br><span class="line"><span class="comment">    height：高度；</span></span><br><span class="line"><span class="comment">    poster：视频未播放前默认显示的封面</span></span><br><span class="line"><span class="comment">            默认显示视频第一帧</span></span><br><span class="line"><span class="comment">    注意：设置宽高时，一般情况下只设置宽度或高度，使其可以等比例缩放</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;&quot;</span> <span class="attr">controls</span> <span class="attr">autoplay</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- source 不同浏览器支持的视频格式不同，考虑到浏览器是否支可以准备多个格式的视频文件，让浏览器选择 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span>&gt;</span></span><br><span class="line">    ···</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>获取dom元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//querySelector 获取到的是数组，返回满足条件的第一个</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;选择器名称&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><p>操作元素类样式</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//add 为元素添加指定名称的样式，一次只能添加一个样式</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;&#x27;</span>).classList.add(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//remove 为元素删除指定名称的样式，一次只能添加一个样式</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;&#x27;</span>).classList.remove(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//toggle 切换元素样式，没有就添加有则删除</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;&#x27;</span>).classList.toggle(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//contains 判断元素是否包含指定样式名称，返回true或dfalse</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&#x27;&#x27;</span>).classList.contains(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取样式</span></span><br><span class="line"><span class="built_in">document</span>.querySelector().classList.item(<span class="number">0</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>自定义属性及取值</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//&lt;p data-name=&quot;名字&quot;&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> value = p.dataset[<span class="string">&quot;name&quot;</span>];</span><br></pre></td></tr></table></figure></li>
<li><p>网络监听接口</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ononline：网络连通时触发事件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;online&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//onoffline：网络断开时触发事件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;offline&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>全屏接口</p>
<ol>
<li><p><code>requestFullScreen()</code> 开启全屏显示<br> 不同浏览器需要添加不同的前缀(早期版本浏览器需要加前缀)<br> chrome:webkit   firefox:moz   ie:ms   opera:o</p>
</li>
<li><p><code>cancelFullScreen()</code> 退出全屏显示，只能使用 <code>document</code> 来实现<br> 不同浏览器需要添加不同的前缀<br> chrome:webkit   firefox:moz   ie:ms   opera:o</p>
</li>
<li><p><code>exitFullscreen</code> 也是退出全屏，且不用添加前缀</p>
</li>
<li><p><code>fullScreenElement()</code> 判断是否全屏</p>
</li>
</ol>
</li>
<li><p><code>fileReader</code> 读取文件内容</p>
<ol>
<li><code>readAsText()</code> 读取文本文件（可以使用text打开的文件），返回文本字符串，默认编码时utf-8</li>
<li><code>readAsBinaryString()</code> 读取任意类型文件。返回二进制字符串.这个方法不是用来读取文件展示给用户看，而是存储文件。例如：读取文件的内容，获取二进制数据，传递给后台，后台接收了数据之后，在将数据存储</li>
<li><code>readAsDataURL()</code> 读取文件获取一段以data开头的字符串，这段字符串的本质就是DataURL。<br> DataURL是一种将文件（这个文件一般就是指图像或者能够嵌入待文档的文件格式）嵌入到文档的方案。<br> DataURL是将资源转换为base64编码的字符串形式，并且将这些内容直接存储再url中。优化网站的加载速度和执行效率。</li>
<li><code>abort()</code> 中断读取<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFileContent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//1.创建文件读取对象</span></span><br><span class="line">    <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">    <span class="comment">//2.读取文件，获取DataURL</span></span><br><span class="line">    <span class="comment">//2.1.readAsDataURL没有任何返回值：coid，但是读取完文件以后，他会将读取的结果存储在文件读取对象的result中</span></span><br><span class="line">    <span class="comment">//2.2.需要传递一个参数 binary large object：文件（图片或者其他可以嵌入到文档的类型）</span></span><br><span class="line">    <span class="comment">//2.3.文件存储在file表单元素的files属性中，他是一个数组</span></span><br><span class="line">    <span class="keyword">var</span> file = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;&#x27;</span>).files[<span class="number">0</span>];</span><br><span class="line">    reader.readAsDataURL(file);</span><br><span class="line">    <span class="comment">//获取数据</span></span><br><span class="line">    <span class="comment">/* fileReader提供一个完整的事件模型，用来捕获读取文件时的状态</span></span><br><span class="line"><span class="comment">     * onabort：读取文件中断时触发</span></span><br><span class="line"><span class="comment">     * onerror：读取错误时触发</span></span><br><span class="line"><span class="comment">     * onload：文件读取成功完成时触发 </span></span><br><span class="line"><span class="comment">     * onloadend：读取完成时触发，无论成功还是失败</span></span><br><span class="line"><span class="comment">     * onloadstart：开始读取时触发</span></span><br><span class="line"><span class="comment">     * onprogress：读取文件过程中持续触发 */</span></span><br><span class="line">    reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//console.log(reder.result)</span></span><br><span class="line">        <span class="built_in">document</span>.querySelector(<span class="string">&#x27;&#x27;</span>).src = reader.result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>拖拽接口<br>  h5中，如果想拖拽元素，就必须为元素添加属性 <code>draggable=&quot;true&quot;</code>，图片和超链接默认就可以拖拽</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;pe&quot;</span> <span class="attr">draggable</span>=<span class="string">&quot;true&quot;</span>&gt;</span>拖拽的div<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;div2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">/* 应用于被拖拽元素的事件 </span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondrag       整个拖拽过程都会调用</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondragstart  当拖拽开始时调用</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondragleave  当鼠标离开拖拽元素时调用</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondragend    当拖拽结束时调用 */</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">/* 应用于目标元素的事件</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondragenter  当拖拽元素进入时调用</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondragover   当停留在目标元素上时调用</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondrop       当在目标元素上松开鼠标时调用，浏览器会默认阻止此事件，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">                   如果想触发此事件，及必须在ondragover事件中阻止浏览器的默认行为 evevt.preventDefault()</span></span></span><br><span class="line"><span class="comment"><span class="javascript">    * ondragleave  当鼠标离开目标元素时调用 */</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><p>地理定位接口</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocation</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(navigator.geolocation)&#123; <span class="comment">//判断是否支持</span></span><br><span class="line">        <span class="comment">/* 参数</span></span><br><span class="line"><span class="comment">         * success：获取地理位置成功之后的回调</span></span><br><span class="line"><span class="comment">         * error：  获取地理位置失败之后的回调</span></span><br><span class="line"><span class="comment">         * option： 调整获取当前位置信息的方式</span></span><br><span class="line"><span class="comment">                    enableHighAccuracy: true/false; 是否使用高精度</span></span><br><span class="line"><span class="comment">                    timeout:     设置超时时间，单位毫秒</span></span><br><span class="line"><span class="comment">                    maximumAge:  可以设置浏览器重新获取地理位置的时间间隔，单位毫秒</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        navigator.geolocation.getCurrentPosition(success, error, &#123;&#125;);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;浏览器不能定位&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//成功之后的回调，如果获取地理位置成功，会将获取到的地理信息传给成功之后的回调</span></span><br><span class="line"><span class="comment">//position.coords.latitude  纬度</span></span><br><span class="line"><span class="comment">//position.coords.longitude 经度</span></span><br><span class="line"><span class="comment">//position.coords.accuracy  精度</span></span><br><span class="line"><span class="comment">//position.coords.altitude  海拔</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">position</span>)</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取位置失败</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(error.code)&#123;</span><br><span class="line">        <span class="keyword">case</span> error.PERMISSION_DENIED:    <span class="comment">//没有授权</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> error.PODITION_UNAVAILABLE: <span class="comment">//位置不可用</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> error.TIMEOUT:              <span class="comment">//超时</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> error.UNKNOWN_ERROR:        <span class="comment">//未知错误</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>web存储</p>
<ol>
<li><p>sessionStorage：存储数据到本地。存储的容量5mb左右<br> *这个数据本质是存在当前页面的内存中，而不是浏览器中<br> *他的生命周期为关闭当前页面，关闭页面，数据会自动清除<br> setItem(key, value)：存储数据，以键值对的方式存储（<code>window.sessionStorage.setItem(key, value)</code>）<br> getItem(key)：湖区数据，通过指定名称的key获取对应的value<br> removeItem(key)：删除数据，通过指定名称key删除对应的值<br> clear()：清空所有出处的内容</p>
</li>
<li><p>localStorage：存储容量大概20mb<br> *在同意浏览器的不同窗口中可以共享数据<br> *存储的数据永久生效，他是存储在硬盘上的，不会随着页面或者浏览器的关闭而清除，如果想清除，必须手动清除<br> 用法与sessionStorage的用法一样（<code>window.localStorage.setItem(key, value)</code>）</p>
</li>
</ol>
</li>
<li><p>应用缓存</p>
<ol>
<li>概念：使用HTML5，通过创建 cache manifest 文件，可以轻松的创建web应用的离线版本</li>
<li>优势：<br> · 可配置需要缓存的资源<br> · 网络无连接应用仍可用<br> · 本地读取缓存资源，提升访问速度，增强用户体验<br> · 减少请求，缓解服务器负担</li>
<li>Cache Manifest 基础：<br> · 如需启用应用程序缓存，请在文档的 <code>&lt;html&gt;</code> 标签中包含 <code>manifest</code> 属性： <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">manifest</span>=<span class="string">&quot;demo.appchche&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
 · 每个指定了 manifest 的页面在用户对其访问时都会被缓存。如果未指定 manifest 属性，则页面不会被缓存（除非在 manifest 文件中直接指定了该页面）。<br> · manifest 文件的扩展名建议是“.appcache”。<br> · 注意 manifest 文件需要配置正确的 MIME-type，即 “text/cache-manifest”。必须在web服务器上配置</li>
<li>Manifest文件：<br> · 概念：manifest文件是简单的文本文件，他告知浏览器被缓存的内容（以及不被缓存的内容）<br> · manifest文件可分为三个部分：<br> 1.CACHE MANIFEST - 开始<br> 2.CACHE 在此标题下列出的文件将在首次下载后进行缓存<br> 3.NETWORK - 在此标题下列出的文件需要与服务器的连接，且不会被缓存<br> 4.FALLBACK- 在此标题下列出的文件规定当前页面无法访问时的回退页面（比如404页面） <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">CACHE MANIFEST</span><br><span class="line"># 上面一句代码必须是当前文档的第一句</span><br><span class="line"></span><br><span class="line"># 需要缓存的文件清单列表</span><br><span class="line">CACHE:</span><br><span class="line"># 下面就是需要缓存的清单列表</span><br><span class="line">../img/**.jpg</span><br><span class="line"># *:代表所有文件</span><br><span class="line"></span><br><span class="line"># 配置每一次都需要重新从服务器获取的文件清单列表</span><br><span class="line">NETWORK:</span><br><span class="line">../img/**.jpg</span><br><span class="line"></span><br><span class="line"># 配置如果文件无法获取则使用指定的文件进行代替</span><br><span class="line">FALLBACK:</span><br><span class="line">../img/**.jpg ../img/**.jpg</span><br><span class="line"># /:代表所有文件 </span><br></pre></td></tr></table></figure>
 · CACHE MANIFEST说明：</li>
</ol>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <!-- <a data-url="https://yanfei.me/HTML5/" data-id="ckv0cvanm000awgmh04d7940o" class="article-share-link">分享</a> -->
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML5/" rel="tag">HTML5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/CSS3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          CSS3
        
      </div>
    </a>
  
  
    <a href="/VUE/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">VUE</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/" rel="tag">CSS3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript6/" rel="tag">ECMAScript6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ECMAScript7-ECMAScript11/" rel="tag">ECMAScript7 - ECMAScript11</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/" rel="tag">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VUE/" rel="tag">VUE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E9%AB%98%E9%A2%91%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%90%88%E9%9B%86/" rel="tag">前高频端面试题合集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CSS3/" style="font-size: 10px;">CSS3</a> <a href="/tags/ECMAScript6/" style="font-size: 10px;">ECMAScript6</a> <a href="/tags/ECMAScript7-ECMAScript11/" style="font-size: 10px;">ECMAScript7 - ECMAScript11</a> <a href="/tags/HTML5/" style="font-size: 10px;">HTML5</a> <a href="/tags/VUE/" style="font-size: 10px;">VUE</a> <a href="/tags/%E5%89%8D%E9%AB%98%E9%A2%91%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%90%88%E9%9B%86/" style="font-size: 15px;">前高频端面试题合集</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">笔记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/%E5%89%8D%E9%AB%98%E9%A2%91%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%90%88%E9%9B%863-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/">前高频端面试题合集3-数据存储</a>
          </li>
        
          <li>
            <a href="/%E5%89%8D%E9%AB%98%E9%A2%91%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%90%88%E9%9B%862-%E4%BA%8B%E4%BB%B6/">前高频端面试题合集2-事件</a>
          </li>
        
          <li>
            <a href="/%E5%89%8D%E9%AB%98%E9%A2%91%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E5%90%88%E9%9B%861-%E5%B8%83%E5%B1%80/">前高频端面试题合集1-布局</a>
          </li>
        
          <li>
            <a href="/CSS3/">CSS3</a>
          </li>
        
          <li>
            <a href="/HTML5/">HTML5</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Yan Fei<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">时间轴</a>
  
</nav>
    

<script src="https://code.jquery.com/jquery-2.0.3.min.js" integrity="sha256-sTy1mJ4I/LAjFCCdEB4RAvPSmRCb3CU7YqodohyeOLo=" crossorigin="anonymous"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>